# Output Generation Specification

This document specifies the outputs generated by the Agent Knowledge Manager.

## Output Directory Structure

The application organizes the processed skills into the specified output directory.

```
output-directory/
├── AGENTS.md           # Summary of capabilities (XML)
├── skill-name-1/       # Processed skill
│   ├── SKILL.md
│   └── ...
└── skill-name-2/
    └── ...
```

The skill directories in the output should contain the validated and potentially processed content from the input directories.

## AGENTS.md Format

The `AGENTS.md` file provides a summary of all available agent skills in an XML format. This file is intended for consumption by AI agents or tools to discover capabilities.

### XML Schema

Root element: `<agent-skills>`

Child elements: `<skill>` (one per skill)

### `<skill>` Element

Attributes:
- `name`: The name of the skill.

Child elements:
- `<description>`: The description of the skill (from frontmatter).
- `<compatibility>`: (Optional) Compatibility requirements.

### Example

```xml
<agent-skills>
  <skill name="pdf-processing">
    <description>Extract text and tables from PDF files, fill forms, merge documents.</description>
    <compatibility>Requires local file access</compatibility>
  </skill>
  <skill name="data-analysis">
    <description>Analyze datasets using Python pandas.</description>
  </skill>
</agent-skills>
```

## Processing Logic

1.  **Collection**: Iterate through all valid skills in the input directory.
2.  **Aggregation**: Collect metadata (name, description, etc.) for each skill.
3.  **Generation**:
    -   Copy the skill directories to the output directory (preserving structure).
    -   Construct the XML content for `AGENTS.md` using the collected metadata.
    -   Write `AGENTS.md` to the root of the output directory.
